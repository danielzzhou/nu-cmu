---
layout: post
title: Binomial Option Pricing in R
date: '2019-03-01 21:03:36 +0530'
categories: R Simulation Finance
published: true
---

The Binomial Options Pricing Model is a lattice-based approach that uses a discrete-time model of the varying price over time of the underlying financial instrument. This illustrative project involves the entire tree matrix for the intermediate steps to illustrate the implementation. 

First proposed by Cox, Ross, and Rubenstein in 19791. Binomial option pricing is a simple but powerful technique that can be used to solve many complex option-pricing problems. 

### Black Scholes Formula Computation
For comparison, let's use Black Scholes formula.

The Black Scholes formula is used to calculate the theoretical value of European options using current stock prices, the option's strike price, expected interest rates, time to expiration and expected volatility. The call price is  $$C = S* N(d_{1}) - N(d_{2}) * K* e^{-rT}$$, where $$d_{1} = \frac {ln (S/K) + (r+\sigma^2/2)t}{\sigma\sqrt{t}}$$ and
$$d_{2} = d_{1} - \sigma\sqrt{t}$$.

The formula is divided into two parts: the first part multiplies the current price by the change in the call premium relative to the change in the underlying price. It represents the expected benefit of purchasing the underlying option. The second part gives the present value of paying the strike price on expiration and the call price is calculated by the difference of the two parts.\  

In this project, Strik price = $120, Expiration time = 1 yr, annual interestrate=0.07, volitility = 0.3, current price = $104.4. By plugging the parameters into the Black Scholes formula, I figured that the theoretical value of this call option is **$9.490328**. 

### Binomial Tree Approximation 
Theoretically, the Black Scholes formula, the continuous-time pricing formula, can be approximated by the step increments of binomial tree models. Binomial trees are a discrete pricing model in which we can derive the option price by $$f_{0}=\frac{E[f(Sn)]}{R^{n}}=\frac{E[S_{0}e^{Z_{n}lnu}]}{R^{n}}$$ where $$Z_{n}=X_{1}+...+X_{n}$$ is the corresponding random walk. **To accomplish the binomial tree approximation, we can let the steps (n) in the formula go to infinity.** By the **Central Limit Theorem**, we know $$Z_{n}$$ is very close to a normal distribution so that $\mu(Z_{n})=n\mu(X_{1})$$ and $$\sigma(Z_{n})=\sqrt(n)\sigma(X_{1})$$. Applying that to the continuous-time stock price model, we have $$\frac{Z_{n}lnu-E(Znlnu)}{\sigma(Z_{n}lnu)}\sim N(0,1)$$. By further induction, we can show that the option price $$f_{0}=e^{-rT}Ef(S_{0}exp[\sigma W_{T} + (r-\frac{\sigma^2}{2}T)])$$ where $W{T} \sim (0,T)$. Applying the pricing formula to **European call**, we can then derive the formula in the last section.

```javascript
const Razorpay = require('razorpay');

let rzp = Razorpay({
	key_id: 'KEY_ID',
	secret: 'name'
});

// capture request
rzp.capture(payment_id, cost)
	.then(function (data) {
		return 2;
	})
```

Check out the [Jekyll docs][jekyll-docs] for more info on how to get the most out of Jekyll. File all bugs/feature requests at [Jekyllâ€™s GitHub repo][jekyll-gh]. If you have questions, you can ask them on [Jekyll Talk][jekyll-talk].
Hello.
Hello.

[jekyll-docs]: https://jekyllrb.com/docs/home
[jekyll-gh]:   https://github.com/jekyll/jekyll
[jekyll-talk]: https://talk.jekyllrb.com/
